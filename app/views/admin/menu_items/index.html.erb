<!-- app/views/admin/menu_items/index.html.erb -->
<%= javascript_include_tag 'views/admin/menu_items/index' %>
<% content_for :title, "paul-carrick.com - Amin Dashboard - Menu Items" %>
<%= render layout: "layouts/header" do %>
<% end %>

<%= render layout: "layouts/admin_menu" do %>
  <div class="row border-bottom border-dark mb-2">
    <div class="col-2">
      <%= sortable_column('Menu Type', 'menu_type', "menu_items") %>
    </div>
    <div class="col-2">
      <%= sortable_column('Label', 'label', "menu_items") %>
    </div>
    <div class="col-2">
      <%= sortable_column('Menu Order', 'menu_order', "menu_items") %>
    </div>
    <div class="col-4">
      <%= sortable_column('Link', 'link', "menu_items") %>
    </div>
    <div class="col-2">
      <%= link_to "Clear Sort", '#', class: "action-links", onclick: "clearSort()" %>
    </div>
  </div>
  <div class="scrollable-container p-2">
    <% @menus.each do |menu_item| %>
      <div class="row">
        <div class="col-2">
          <%= menu_item.menu_type %>
        </div>
        <div class="col-2">
          <%= menu_item.label %>
        </div>
        <div class="col-2">
          <%= menu_item.menu_order %>
        </div>
        <div class="col-4">
          <%= menu_item.link %>
        </div>
        <div class="col-2" style="min-height: 2em;">
          <% delete_path = admin_menu_item_path(menu_item).to_s + "/delete" %>
          <%= action_links(menu_item, edit_admin_menu_item_path(menu_item), delete_path) %>
        </div>
      </div>
    <% end %>
  </div>
  <div class="row mt-3 mb-3">
    <div class="col-2">
      <%= link_to("New Menu Item", new_admin_menu_item_path, class: "btn btn-primary") %>
    </div>
    <div class="col-4"></div>
    <div class="col-6 justify-content-end">
      <%= render 'shared/page_navigation' %>
    </div>
  </div>
<% end %>

<%= render layout: "layouts/footer" do %>
<% end %>
